@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 215 25% 15%;

    --card: 0 0% 100%;
    --card-foreground: 215 25% 15%;

    --popover: 0 0% 100%;
    --popover-foreground: 215 25% 15%;

    /* Transformation & Trust - Deep Teal */
    --primary: 187 85% 35%;
    --primary-foreground: 0 0% 100%;
    --primary-light: 187 65% 45%;
    
    /* Breakthrough & Energy - Warm Amber */
    --secondary: 35 95% 55%;
    --secondary-foreground: 215 25% 15%;
    --secondary-light: 35 95% 65%;

    /* Progress & Success - Soft Green */
    --success: 142 70% 45%;
    --success-foreground: 0 0% 100%;
    --success-light: 142 55% 55%;

    --muted: 210 15% 96%;
    --muted-foreground: 215 15% 45%;

    --accent: 187 85% 35%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    --border: 215 15% 90%;
    --input: 215 15% 90%;
    --ring: 187 85% 35%;

    --radius: 0.75rem;

    /* Gradients for impact */
    --gradient-hero: linear-gradient(135deg, hsl(187 85% 35%), hsl(187 75% 45%));
    --gradient-breakthrough: linear-gradient(135deg, hsl(35 95% 55%), hsl(35 95% 65%));
    --gradient-success: linear-gradient(135deg, hsl(142 70% 45%), hsl(142 60% 55%));
    --gradient-card: linear-gradient(145deg, hsl(0 0% 100%), hsl(210 20% 98%));

    /* Shadows for depth */
    --shadow-sm: 0 1px 2px 0 hsl(215 25% 15% / 0.05);
    --shadow-md: 0 4px 6px -1px hsl(215 25% 15% / 0.08), 0 2px 4px -1px hsl(215 25% 15% / 0.04);
    --shadow-lg: 0 10px 15px -3px hsl(215 25% 15% / 0.08), 0 4px 6px -2px hsl(215 25% 15% / 0.04);
    --shadow-xl: 0 20px 25px -5px hsl(215 25% 15% / 0.08), 0 10px 10px -5px hsl(215 25% 15% / 0.04);
    --shadow-glow: 0 0 20px hsl(187 85% 35% / 0.25);

    /* Transitions */
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-bounce: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);

    /* Sidebar - Light Mode */
    --sidebar: 0 0% 100%;
    --sidebar-foreground: 215 25% 15%;
    --sidebar-primary: 187 85% 35%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 210 15% 96%;
    --sidebar-accent-foreground: 215 25% 15%;
    --sidebar-border: 215 15% 90%;
    --sidebar-ring: 187 85% 35%;
  }

  .dark {
    --background: 215 30% 8%;
    --foreground: 210 15% 95%;

    --card: 215 25% 12%;
    --card-foreground: 210 15% 95%;

    --popover: 215 25% 12%;
    --popover-foreground: 210 15% 95%;

    --primary: 187 75% 45%;
    --primary-foreground: 0 0% 100%;
    --primary-light: 187 65% 55%;

    --secondary: 35 90% 60%;
    --secondary-foreground: 215 25% 10%;
    --secondary-light: 35 90% 70%;

    --success: 142 60% 50%;
    --success-foreground: 0 0% 100%;
    --success-light: 142 50% 60%;

    --muted: 215 20% 18%;
    --muted-foreground: 215 10% 65%;

    --accent: 187 75% 45%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 65% 55%;
    --destructive-foreground: 0 0% 100%;

    --border: 215 20% 20%;
    --input: 215 20% 20%;
    --ring: 187 75% 45%;

    --gradient-hero: linear-gradient(135deg, hsl(187 75% 45%), hsl(187 65% 55%));
    --gradient-breakthrough: linear-gradient(135deg, hsl(35 90% 60%), hsl(35 90% 70%));
    --gradient-success: linear-gradient(135deg, hsl(142 60% 50%), hsl(142 50% 60%));
    --gradient-card: linear-gradient(145deg, hsl(215 25% 12%), hsl(215 22% 15%));

    --shadow-glow: 0 0 20px hsl(187 75% 45% / 0.3);

    /* Sidebar - Dark Mode (solid opaque background for contrast) */
    --sidebar: 215 25% 12%;
    --sidebar-foreground: 210 15% 95%;
    --sidebar-primary: 187 75% 45%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 215 20% 18%;
    --sidebar-accent-foreground: 210 15% 95%;
    --sidebar-border: 215 20% 20%;
    --sidebar-ring: 187 75% 45%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/* ================================================
   Mind Insurance Dark Theme Styles
   ================================================ */

@layer components {
  /* Dark Input Styles for Mind Insurance */
  .mi-input {
    @apply bg-[#0A1628] border-[#05c3dd]/30 text-white placeholder:text-gray-500 rounded-md;
    @apply focus:ring-2 focus:ring-[#05c3dd] focus:border-[#05c3dd] focus:outline-none;
    @apply transition-all duration-200;
  }

  .mi-textarea {
    @apply bg-[#0A1628] border-[#05c3dd]/30 text-white placeholder:text-gray-500 rounded-md;
    @apply focus:ring-2 focus:ring-[#05c3dd] focus:border-[#05c3dd] focus:outline-none;
    @apply min-h-[100px] transition-all duration-200;
  }

  .mi-select {
    @apply bg-[#0A1628] border-[#05c3dd]/30 text-white rounded-md;
    @apply focus:ring-2 focus:ring-[#05c3dd] focus:border-[#05c3dd] focus:outline-none;
  }

  /* Dark Card Styles */
  .mi-card {
    @apply bg-[#132337] border border-[#05c3dd]/20 rounded-lg;
    @apply transition-all duration-200;
  }

  .mi-card-hover:hover {
    @apply border-[#05c3dd]/50 shadow-lg;
    box-shadow: 0 0 20px rgba(5, 195, 221, 0.1);
  }

  /* Dark Button Styles */
  .mi-btn-primary {
    @apply bg-[#05c3dd] hover:bg-[#0099aa] text-white font-medium;
    @apply transition-all duration-200 rounded-md;
  }

  .mi-btn-outline {
    @apply border border-[#05c3dd]/50 text-[#05c3dd] bg-transparent;
    @apply hover:bg-[#05c3dd]/10 hover:border-[#05c3dd];
    @apply transition-all duration-200 rounded-md;
  }

  .mi-btn-gold {
    @apply bg-[#fac832] hover:bg-[#e0b52d] text-[#0A1628] font-medium;
    @apply transition-all duration-200 rounded-md;
  }

  /* Progress Bar Styles */
  .mi-progress-track {
    @apply bg-[#0A1628] rounded-full overflow-hidden;
  }

  .mi-progress-fill {
    @apply bg-[#05c3dd] rounded-full transition-all duration-300;
  }

  .mi-progress-fill-gold {
    @apply bg-[#fac832] rounded-full transition-all duration-300;
  }

  /* Badge Styles */
  .mi-badge-cyan {
    @apply bg-[#05c3dd]/20 text-[#05c3dd] border border-[#05c3dd]/30;
    @apply px-2 py-0.5 rounded-full text-xs font-medium;
  }

  .mi-badge-gold {
    @apply bg-[#fac832]/20 text-[#fac832] border border-[#fac832]/30;
    @apply px-2 py-0.5 rounded-full text-xs font-medium;
  }

  .mi-badge-success {
    @apply bg-green-500/20 text-green-400 border border-green-500/30;
    @apply px-2 py-0.5 rounded-full text-xs font-medium;
  }

  .mi-badge-error {
    @apply bg-red-500/20 text-red-400 border border-red-500/30;
    @apply px-2 py-0.5 rounded-full text-xs font-medium;
  }

  /* Skeleton Loading Styles */
  .mi-skeleton {
    @apply bg-[#0A1628] rounded animate-pulse;
  }

  /* Empty State Styles */
  .mi-empty-icon {
    @apply w-16 h-16 mx-auto rounded-full bg-[#05c3dd]/10 flex items-center justify-center;
  }
}

/* ================================================
   Mind Insurance Sidebar Dark Theme
   OUTSIDE @layer for proper CSS specificity
   ================================================ */

/* CSS Variable Overrides for Sidebar */
.mi-sidebar-dark {
  --sidebar: 215 38% 12%; /* #132337 mi-navy-light */
  --sidebar-foreground: 0 0% 100%;
  --sidebar-border: 186 95% 44%; /* cyan color for borders */
  --sidebar-accent: 215 45% 8%; /* #0A1628 mi-navy */
  --sidebar-accent-foreground: 0 0% 100%;
  --border: 186 95% 44%; /* for right edge border - cyan */
  background-color: #132337 !important;
}

/* Force ALL sidebar backgrounds to dark navy */
.mi-sidebar-dark,
.mi-sidebar-dark > *,
.mi-sidebar-dark [data-sidebar],
.mi-sidebar-dark [data-sidebar="sidebar"],
.mi-sidebar-dark [data-sidebar="content"],
.mi-sidebar-dark [data-sidebar="header"],
.mi-sidebar-dark [data-sidebar="menu"],
.mi-sidebar-dark [data-sidebar="menu-button"],
.mi-sidebar-dark .bg-sidebar {
  background-color: #132337 !important;
}

/* Sidebar accent backgrounds (hover states, user info) */
.mi-sidebar-dark .bg-sidebar-accent,
.mi-sidebar-dark [class*="bg-sidebar-accent"] {
  background-color: #0a1628 !important;
}

/* Text colors for readability */
.mi-sidebar-dark [data-sidebar="menu-button"] span,
.mi-sidebar-dark [data-sidebar="menu-button"] svg {
  color: #9ca3af !important; /* gray-400 */
}

.mi-sidebar-dark [data-sidebar="menu-button"]:hover span,
.mi-sidebar-dark [data-sidebar="menu-button"]:hover svg {
  color: #ffffff !important;
}

/* Override all nested border colors */
.mi-sidebar-dark,
.mi-sidebar-dark * {
  --border: 186 95% 44%;
  --sidebar-border: 186 95% 44%;
}

/* Separator override - HIGH SPECIFICITY to beat Tailwind utilities */
.mi-sidebar-dark [data-sidebar="separator"],
.mi-sidebar-dark [role="separator"],
.mi-sidebar-dark .bg-sidebar-border {
  background-color: rgba(5, 195, 221, 0.2) !important;
  background: rgba(5, 195, 221, 0.2) !important;
}

/* =============================================
   FIX #1: Horizontal line below header
   Target the first SidebarSeparator after SidebarHeader
   ============================================= */
.mi-sidebar-dark [data-sidebar="header"] + [data-slot="separator"],
.mi-sidebar-dark [data-sidebar="header"] + hr,
.mi-sidebar-dark [data-sidebar="header"] ~ [data-sidebar="separator"]:first-of-type {
  background-color: rgba(5, 195, 221, 0.2) !important;
  background: rgba(5, 195, 221, 0.2) !important;
}

/* =============================================
   FIX #2: Right edge vertical border
   The className is passed to the fixed inner div (line 203 in sidebar.tsx)
   which has: group-data-[side=left]:border-r
   ============================================= */

/* The mi-sidebar-dark class ends up on the fixed div with border-r */
.mi-sidebar-dark {
  border-color: rgba(5, 195, 221, 0.2) !important;
  border-right-color: rgba(5, 195, 221, 0.2) !important;
  border-left-color: rgba(5, 195, 221, 0.2) !important;
}

/* Target nested divs within the fixed sidebar */
.mi-sidebar-dark > div,
.mi-sidebar-dark > div > div {
  border-color: rgba(5, 195, 221, 0.2) !important;
}

/* Ultimate fallback - catch any border on any descendant */
.mi-sidebar-dark,
.mi-sidebar-dark *,
.mi-sidebar-dark::before,
.mi-sidebar-dark::after,
.mi-sidebar-dark > *,
.mi-sidebar-dark > * > * {
  border-color: rgba(5, 195, 221, 0.2) !important;
}

/* Also target via data attributes from sidebar.tsx */
[data-sidebar="sidebar"].mi-sidebar-dark,
.mi-sidebar-dark [data-sidebar="sidebar"] {
  border-color: rgba(5, 195, 221, 0.2) !important;
}

/* =============================================
   FIX #3: The fixed sidebar container with border-r
   This is the div on line 193-205 of sidebar.tsx that has
   group-data-[side=left]:border-r applied
   ============================================= */

/* Target the fixed inner wrapper that has the actual border-r */
.mi-sidebar-dark.fixed,
div.mi-sidebar-dark[class*="fixed"],
.peer .mi-sidebar-dark {
  border-right-color: rgba(5, 195, 221, 0.2) !important;
}

/* Target by the specific structure - the fixed div is a child of the peer group */
.peer[data-side="left"] > div.fixed,
.peer[data-side="left"] div[class*="border-r"],
div[data-side="left"] > div[class*="fixed"][class*="border-r"] {
  border-right-color: rgba(5, 195, 221, 0.2) !important;
}

/* Specifically target when mi-sidebar-dark is on the fixed container */
div.fixed.mi-sidebar-dark,
.mi-sidebar-dark.md\:flex {
  border-color: rgba(5, 195, 221, 0.2) !important;
  border-right-color: rgba(5, 195, 221, 0.2) !important;
}

/* Nuclear option - target ANY element with border-r inside the sidebar context */
.peer:has(.mi-sidebar-dark) div[class*="border-r"],
div:has(> .mi-sidebar-dark)[class*="border-r"] {
  border-right-color: rgba(5, 195, 221, 0.2) !important;
}
